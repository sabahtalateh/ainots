# Теорема Гейне (Heine) о связи пределов функций и последовательностей

## Какую проблему решает теорема?

### Проблема: Два разных определения предела

У нас есть **два способа** определить предел функции при $x \to a$:

**1. ε-δ определение (непрерывный подход):**
- $x$ **непрерывно** приближается к точке $a$ любым способом
- **Сложно работать:** нужно найти формулу $\delta(\varepsilon)$ для любого $\varepsilon$
- **Главная проблема:** Как доказать, что предела НЕ существует? Нужно показать, что не существует подходящего $\delta$ — это очень трудно!

**2. ε-N определение (дискретный подход через последовательности):**
- Берём точки $x_1, x_2, x_3, \ldots$, которые **дискретно** приближаются к $a$
- **Проще работать:** достаточно найти $N$ для данного $\varepsilon$
- **Преимущество:** Чтобы доказать несуществование предела, можно взять две разные последовательности и показать, что они дают разные результаты — это намного легче!

### Решение: Теорема Гейне

**Теорема Гейне** устанавливает **мост** между этими двумя подходами и говорит:

> Эти два определения **полностью эквивалентны**! Можно использовать более простой подход (последовательности) вместо более сложного (ε-δ).

### Интуитивное понимание

Представьте, что вы приближаетесь к точке $a$ на числовой прямой:

- **Способ 1 (непрерывный):** Идёте к $a$ **любым маршрутом** — по прямой, по кривой, зигзагом...
- **Способ 2 (дискретный):** Выбираете точки $x_1, x_2, x_3, \ldots$ всё ближе к $a$ — делаете **дискретные шаги**

**Теорема утверждает:** Если функция ведёт себя одинаково при **любом** способе приближения к $a$ (даже дискретными шагами), то у неё есть предел. И наоборот: если хотя бы для одного способа приближения функция ведёт себя по-другому — предела нет!

---

## Зачем нужна эта теорема?

### 1. Доказательство несуществования предела ⭐

**Самое полезное применение!** Чтобы доказать, что предела НЕ существует, достаточно найти **две** последовательности $\{x_n\}$ и $\{y_n\}$, для которых:
- $x_n \to a$ и $y_n \to a$
- Но $\lim f(x_n) \neq \lim f(y_n)$

**Пример:**

Доказать, что не существует $\lim_{x \to 0} \sin\frac{1}{x}$

**Решение:**

Берём две последовательности:

1. $x_n = \frac{1}{2\pi n} \to 0$, тогда:
   $$f(x_n) = \sin(2\pi n) = 0 \to 0$$

2. $y_n = \frac{1}{\frac{\pi}{2} + 2\pi n} \to 0$, тогда:
   $$f(y_n) = \sin\left(\frac{\pi}{2} + 2\pi n\right) = 1 \to 1$$

Обе последовательности стремятся к 0, но дают **разные** пределы функции (0 и 1). По теореме Гейне, предел функции не существует! ✓

### 2. Упрощение вычислений

Иногда проще подставить конкретную последовательность вместо работы с общим $\delta$.

**Пример:**

Проверить, что $\lim_{x \to 2} x^2 = 4$

Вместо доказательства через ε-δ, можем взять любую последовательность $x_n \to 2$ (например, $x_n = 2 + \frac{1}{n}$) и проверить, что $x_n^2 \to 4$.

### 3. Переход между дискретным и непрерывным

Позволяет переводить задачи о пределах функций в задачи о пределах последовательностей и обратно.

---

## Формулировка теоремы

**Теорема Гейне:**

Функция $f(x)$ имеет предел $L$ при $x \to a$ **тогда и только тогда**, когда для **любой** последовательности $\{x_n\}$ с условием $x_n \to a$ (и $x_n \neq a$) выполняется:

$$\lim_{x \to a} f(x) = L \quad \Longleftrightarrow \quad \lim_{n \to \infty} f(x_n) = L \text{ для любой } \{x_n\}: x_n \to a, x_n \neq a$$

**На языке математической логики:**

Предел функции по ε-δ определению:
$$\forall \varepsilon > 0 \; \exists \delta > 0: \; 0 < |x - a| < \delta \Rightarrow |f(x) - L| < \varepsilon$$

**эквивалентен** пределу через последовательности:
$$\forall \{x_n\}: (x_n \to a \text{ и } x_n \neq a) \Rightarrow f(x_n) \to L$$

**Важно:** Условие "$x_n \neq a$" нужно потому, что в определении предела функции не рассматривается значение в самой точке $a$ (условие $0 < |x - a|$).

---

## Примеры применения

### Пример 1: Проверка существования предела

**Задача:** Проверить, что $\lim_{x \to 1} \frac{2x+1}{x} = 3$

**Решение через теорему Гейне:**

Возьмём несколько последовательностей $x_n \to 1$:

1. **Приближаемся справа:** $x_n = 1 + \frac{1}{n}$
   $$\lim_{n \to \infty} \frac{2(1 + \frac{1}{n}) + 1}{1 + \frac{1}{n}} = \lim_{n \to \infty} \frac{3 + \frac{2}{n}}{1 + \frac{1}{n}} = 3$$

2. **Приближаемся слева:** $x_n = 1 - \frac{1}{n^2}$
   $$\lim_{n \to \infty} \frac{2(1 - \frac{1}{n^2}) + 1}{1 - \frac{1}{n^2}} = 3$$

3. **Колебания около 1:** $x_n = 1 + \frac{(-1)^n}{n}$
   $$\lim_{n \to \infty} \frac{2(1 + \frac{(-1)^n}{n}) + 1}{1 + \frac{(-1)^n}{n}} = 3$$

Для всех последовательностей получается предел 3, что подтверждает результат.

### Пример 2: Доказательство несуществования предела

**Задача:** Доказать, что не существует $\lim_{x \to 0} \cos\frac{1}{x}$

**Решение:**

1. Берём $x_n = \frac{1}{2\pi n} \to 0$:
   $$\cos\frac{1}{x_n} = \cos(2\pi n) = 1 \to 1$$

2. Берём $y_n = \frac{1}{\pi + 2\pi n} \to 0$:
   $$\cos\frac{1}{y_n} = \cos(\pi + 2\pi n) = -1 \to -1$$

Разные пределы → предел не существует! ✓

### Пример 3: Функция Дирихле

**Функция Дирихле:**

$$D(x) = \begin{cases}
1, & x \in \mathbb{Q} \text{ (рациональное)} \\
0, & x \in \mathbb{R} \setminus \mathbb{Q} \text{ (иррациональное)}
\end{cases}$$

**Вопрос:** Существует ли $\lim_{x \to 0} D(x)$?

**Решение через теорему Гейне:**

1. Берём последовательность **рациональных** чисел: $x_n = \frac{1}{n} \to 0$
   $$D(x_n) = 1 \to 1$$

2. Берём последовательность **иррациональных** чисел: $y_n = \frac{\sqrt{2}}{n} \to 0$
   $$D(y_n) = 0 \to 0$$

Разные пределы → $\lim_{x \to 0} D(x)$ не существует!

**Вывод:** Функция Дирихле не имеет предела ни в одной точке.

---

## Доказательство теоремы Гейне

### Направление (⇒): из ε-δ следует ε-N

**Дано:** $\lim_{x \to a} f(x) = L$ по определению ε-δ

**Доказать:** для любой последовательности $x_n \to a$ выполняется $f(x_n) \to L$

**Доказательство:**

1. Возьмём произвольное $\varepsilon > 0$

2. По определению предела функции существует $\delta > 0$ такое, что:
   $$0 < |x - a| < \delta \Rightarrow |f(x) - L| < \varepsilon$$

3. Пусть $\{x_n\}$ — произвольная последовательность с $x_n \to a$ и $x_n \neq a$

4. По определению предела последовательности для $\delta > 0$ существует $N$ такое, что:
   $$n > N \Rightarrow |x_n - a| < \delta$$

5. Тогда для всех $n > N$:
   $$0 < |x_n - a| < \delta \Rightarrow |f(x_n) - L| < \varepsilon$$

6. Значит, $f(x_n) \to L$ по определению предела последовательности. ✓

### Направление (⇐): из ε-N следует ε-δ (от противного)

**Дано:** для любой последовательности $x_n \to a$ выполняется $f(x_n) \to L$

**Доказать:** $\lim_{x \to a} f(x) = L$ по определению ε-δ

**Доказательство (от противного):**

1. Предположим, что предел по ε-δ не существует

2. Тогда существует $\varepsilon_0 > 0$ такое, что для любого $\delta > 0$ найдётся точка $x$ с условием $0 < |x - a| < \delta$, но $|f(x) - L| \geq \varepsilon_0$

3. Построим последовательность: для каждого $n$ возьмём $\delta = \frac{1}{n}$ и найдём точку $x_n$ такую, что:
   - $0 < |x_n - a| < \frac{1}{n}$
   - $|f(x_n) - L| \geq \varepsilon_0$

4. Получили последовательность $\{x_n\}$: $x_n \to a$ (так как $|x_n - a| < \frac{1}{n} \to 0$)

5. Но $f(x_n)$ **не** стремится к $L$ (так как $|f(x_n) - L| \geq \varepsilon_0$)

6. Противоречие с условием теоремы! Значит, наше предположение неверно, и предел по ε-δ существует. ✓

---

## Связь с другими теоремами

### Теорема Больцано-Вейерштрасса

Теорема Гейне часто используется вместе с теоремой Больцано-Вейерштрасса (о существовании сходящейся подпоследовательности).

### Критерий Коши

Теорема Гейне помогает переформулировать критерий Коши для функций через последовательности.

---

## Практические выводы

### Когда использовать ε-δ:
- Для **доказательства существования** предела
- Для **теоретических** построений
- В **строгих** математических доказательствах

### Когда использовать теорему Гейне:
- Для **доказательства несуществования** предела (⭐ самое частое применение)
- Для **проверки** гипотез о пределе
- Когда работа с последовательностями **проще**

### Когда НЕ нужно ни то, ни другое:
- При **вычислении** пределов используйте правила (сумма, произведение, композиция и т.д.)
- В **практических** задачах обычно достаточно алгебраических преобразований

---

## Ссылки и дополнительная информация

- [Теорема о пределе суммы](./limsum.md)
- [Основы пределов](../limit.md)

**Историческая справка:** Теорема названа в честь немецкого математика **Генриха Эдуарда Гейне** (Heinrich Eduard Heine, 1821-1881), который внёс значительный вклад в развитие математического анализа.

