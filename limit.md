# Предел последовательности

Коши разработал два строгих определения предела: **$\varepsilon-N$** для пределов при стремлении к бесконечности и **$\varepsilon-\delta$** для пределов в конкретной точке. Первое используется для последовательностей ($n \to \infty$) и функций на бесконечности ($x \to \infty$), второе — когда нужно найти предел функции в конкретной точке ($x \to a$).

## Определение в ε-N (для бесконечности)

Это определение используется, когда переменная стремится к **бесконечности** ($\to \infty$):
- Для **последовательностей**: $\lim_{n \to \infty} x_n = A$ (дискретная переменная $n \in \mathbb{N}$)
- Для **функций**: $\lim_{x \to \infty} f(x) = L$ (непрерывная переменная $x \in \mathbb{R}$)

[Видео объяснение](https://www.youtube.com/watch?v=pmT4aAtwpfY&list=PLztBpqftvzxWo4HxUYV58ENhxHV32Wxli)

### Развёрнутое определение с пояснениями (для последовательностей)

Пусть $x_n$ это последовательность. Для примера $x_n = \frac{1}{x}$, видно что при $n \rightarrow \infty$ значение элемента последовательности будет стремиться к $0$ ($x_n \rightarrow 0$).

Число $A$ есть предел последовательности $x_n$ при $n$, стремящемся к бесконечности ($n \rightarrow \infty$), если для любого $\varepsilon$ (на практике маленького и положительного числа), можно найти номер $N_\varepsilon$ (номер элементов этой последовательности), все элементы последовательности, следующие за этим номером ($\forall x_n$ при $n > N_\varepsilon$), будут находиться на расстоянии меньше указанного маленького числа $\varepsilon$ от значения предела ($|x_n - A| < \varepsilon$).

**Это определение, тут ничего доказывать не нужно**

#### Пример вычисления и доказательства

Рассмотрим как пользоваться этими сакральными информациями. Имея данное определение предела нужно:
1. Вычислить предел, используя алгебраические преобразования
2. Доказать что предел функции равен вычисленному значению. Это значит просто найти формулу зависимости номера $N_\varepsilon$ от самого числа $\varepsilon$

##### Пример: вычислить предел

$$\lim_{n \to \infty} \frac{2n + 1}{n}$$

**Шаг 1: Вычисление предела**

Делим числитель и знаменатель на $n$:

$$\lim_{n \to \infty} \frac{2n + 1}{n} = \lim_{n \to \infty} \frac{\frac{2n}{n} + \frac{1}{n}}{\frac{n}{n}} = \lim_{n \to \infty} \left(2 + \frac{1}{n}\right)$$

Используя теоремы о пределах и зная, что $\lim_{n \to \infty} \frac{1}{n} = 0$:

$$= 2 + 0 = 2$$

**Ответ:** $\displaystyle\lim_{n \to \infty} \frac{2n + 1}{n} = 2$

**Шаг 2: Доказательство по определению**

Теперь докажем строго по определению, что предел действительно равен $2$ (найдём формулу зависимости $N_\varepsilon$ от числа $\varepsilon$).

Нужно доказать: для любого $\varepsilon > 0$ существует $N$ такое, что при $n > N$ выполняется:

$$\left|\frac{2n + 1}{n} - 2\right| < \varepsilon$$

Упростим левую часть:

$$\left|\frac{2n + 1}{n} - 2\right| = \left|\frac{2n + 1 - 2n}{n}\right| = \left|\frac{1}{n}\right| = \frac{1}{n}$$

**Почему модуль можно убрать?** Потому что $n$ это **номер** элемента последовательности, а номер всегда положительный, следовательно выражение под модулем тоже всегда положительно.

Нужно, чтобы:

$$\frac{1}{n} < \varepsilon$$

Отсюда:

$$n > \frac{1}{\varepsilon}$$

**Вывод:** Для любого $\varepsilon > 0$ берём $N = \lceil\frac{1}{\varepsilon}\rceil$. Тогда для всех $n > N$ выполняется:

$$\left|\frac{2n + 1}{n} - 2\right| = \frac{1}{n} < \frac{1}{N} \leq \varepsilon$$

Предел доказан по определению. ∎

**Примеры для разных $\varepsilon$:**
- Если $\varepsilon = 0.1$, то $N = 10$
- Если $\varepsilon = 0.01$, то $N = 100$
- Если $\varepsilon = 0.001$, то $N = 1000$

<img src="./images/lims.png">

##### Геометрический смысл

При изображении на графике:
- **ε** — расстояние по оси **Y** (вертикаль)
  - Задает окрестность вокруг предела $A$: интервал $(A - \varepsilon, A + \varepsilon)$
  - Горизонтальная полоса на графике
  
- **N** — значение по оси **X** (горизонталь)
  - Указывает номер элемента последовательности (для последовательностей) или значение x (для функций)
  - Вертикальная линия на графике, после которой все точки попадают в ε-окрестность

**Смысл определения:** Начиная с номера $N$ (то есть для всех $n > N$ или $x > N$), все значения последовательности/функции гарантированно попадают в ε-окрестность предела $A$ (синяя горизонтальная полоса).

### Формальное определение

#### Для последовательностей (n → ∞)

Число $A$ называется **пределом последовательности** $\{x_n\}$ при $n \to \infty$, если для любого $\varepsilon > 0$ существует натуральное число $N_\varepsilon$, такое, что для всех $n > N_\varepsilon$ выполняется неравенство $|x_n - A| < \varepsilon$.

**Запись:** $\displaystyle\lim_{n \to \infty} x_n = A$

**Определение в кванторах:**

$$\forall \varepsilon > 0 \quad \exists N_\varepsilon \in \mathbb{N}: \quad \forall n \in \mathbb{N} \, (n > N_\varepsilon \Longrightarrow |x_n - A| < \varepsilon)$$

#### Для функций (x → ∞)

Аналогично, число $L$ называется **пределом функции** $f(x)$ при $x \to \infty$, если для любого $\varepsilon > 0$ существует такое $N$, что для всех $x > N$ выполняется неравенство $|f(x) - L| < \varepsilon$.

**Запись:** $\displaystyle\lim_{x \to \infty} f(x) = L$

**Определение в кванторах:**

$$\forall \varepsilon > 0 \quad \exists N \in \mathbb{R}: \quad \forall x \in \mathbb{R} \, (x > N \Longrightarrow |f(x) - L| < \varepsilon)$$

**Пример:** Для функции $f(x) = \frac{1}{x}$:

$$\lim_{x \to \infty} \frac{1}{x} = 0$$

При $\varepsilon = 0.1$ получаем $N = 10$. Для всех $x > 10$ выполняется $\left|\frac{1}{x} - 0\right| < 0.1$.

### Связь между пределами последовательностей и функций

**Ключевое различие:**
- **Последовательность** $a_n$: аргумент $n$ принимает только **натуральные** значения $n \in \mathbb{N}$ (дискретные точки: 1, 2, 3, ...)
- **Функция** $f(x)$: аргумент $x$ принимает **все вещественные** значения $x \in \mathbb{R}$ (непрерывная переменная)

**Последовательность как функция на целых числах:**

Любую последовательность $\{a_n\}$ можно рассматривать как функцию $f: \mathbb{N} \to \mathbb{R}$, где $a_n = f(n)$.

Например:
- Функция: $f(x) = \frac{1}{x}$ определена для всех $x \neq 0$
- Последовательность: $a_n = f(n) = \frac{1}{n}$ — это значения функции в точках $n = 1, 2, 3, ...$

**Теорема Гейне (связь пределов):**

Функция $f(x)$ имеет предел $L$ при $x \to \infty$ **тогда и только тогда**, когда для **любой** последовательности $\{x_n\}$ с условием $x_n \to \infty$ выполняется:

$$\lim_{n \to \infty} f(x_n) = L$$

**Пример применения теоремы Гейне:**

Пусть $f(x) = \frac{1}{x}$. Проверим предел, подставив разные последовательности:

- При $x_n = n$: $\lim_{n \to \infty} f(n) = \lim_{n \to \infty} \frac{1}{n} = 0$ ✓
- При $x_n = n^2$: $\lim_{n \to \infty} f(n^2) = \lim_{n \to \infty} \frac{1}{n^2} = 0$ ✓
- При $x_n = 2n + 5$: $\lim_{n \to \infty} f(2n+5) = \lim_{n \to \infty} \frac{1}{2n+5} = 0$ ✓

Для всех последовательностей, стремящихся к $\infty$, получается один и тот же предел 0, следовательно $\lim_{x \to \infty} \frac{1}{x} = 0$.

## Определение в ε-δ (для конкретной точки)

Это определение используется, когда нужно найти предел функции при **стремлении к конкретной точке** $a$:

$$\lim_{x \to a} f(x) = L$$

Здесь переменная $x$ стремится не к бесконечности, а к конкретному числу (например, $x \to 2$, $x \to 0$, $x \to \pi$ и т.д.).

### Развёрнутое определение с пояснениями

Число $L$ называется пределом функции $f(x)$ при $x$, стремящемся к $a$, если для любого сколь угодно малого положительного числа $\varepsilon$ можно найти такое положительное число $\delta$, что для всех $x$, находящихся в $\delta$-окрестности точки $a$ (но не равных самой точке $a$), значения функции $f(x)$ будут находиться в $\varepsilon$-окрестности предела $L$.

### Пример вычисления и доказательства

#### Пример: вычислить предел

$$\lim_{x \to 1} \frac{2x + 1}{x}$$

**Шаг 1: Вычисление предела**

Подставляем $x = 1$ в функцию:

$$\lim_{x \to 1} \frac{2x + 1}{x} = \frac{2 \cdot 1 + 1}{1} = \frac{3}{1} = 3$$

**Ответ:** $\displaystyle\lim_{x \to 1} \frac{2x + 1}{x} = 3$

**Шаг 2: Доказательство по определению**

Теперь докажем строго по определению, что предел действительно равен $3$ (найдём формулу зависимости $\delta$ от $\varepsilon$).

Нужно доказать: для любого $\varepsilon > 0$ существует $\delta > 0$ такое, что при $0 < |x - 1| < \delta$ выполняется:

$$\left|\frac{2x + 1}{x} - 3\right| < \varepsilon$$

Упростим левую часть:

$$\left|\frac{2x + 1}{x} - 3\right| = \left|\frac{2x + 1 - 3x}{x}\right| = \left|\frac{1 - x}{x}\right| = \frac{|x - 1|}{|x|}$$

Теперь нужно оценить $\frac{1}{|x|}$. Если потребуем, чтобы $|x - 1| < \frac{1}{2}$, то $x \in \left(\frac{1}{2}, \frac{3}{2}\right)$, и следовательно $|x| > \frac{1}{2}$, то есть $\frac{1}{|x|} < 2$.

Тогда:

$$\frac{|x - 1|}{|x|} < 2|x - 1|$$

Чтобы $2|x - 1| < \varepsilon$, нужно:

$$|x - 1| < \frac{\varepsilon}{2}$$

**Вывод:** Для любого $\varepsilon > 0$ берём $\delta = \min\left(\frac{\varepsilon}{2}, \frac{1}{2}\right)$. Тогда для всех $x$, удовлетворяющих условию $0 < |x - 1| < \delta$, выполняется:

$$\left|\frac{2x + 1}{x} - 3\right| = \frac{|x - 1|}{|x|} < 2|x - 1| < 2 \cdot \frac{\varepsilon}{2} = \varepsilon$$

Предел доказан по определению. ∎

**Примеры для разных $\varepsilon$:**
- Если $\varepsilon = 0.4$, то $\delta = 0.2$: при $|x - 1| < 0.2$ получаем $\left|\frac{2x+1}{x} - 3\right| < 0.4$
- Если $\varepsilon = 0.2$, то $\delta = 0.1$: при $|x - 1| < 0.1$ получаем $\left|\frac{2x+1}{x} - 3\right| < 0.2$
- Если $\varepsilon = 0.1$, то $\delta = 0.05$: при $|x - 1| < 0.05$ получаем $\left|\frac{2x+1}{x} - 3\right| < 0.1$

**Ключевая формула:** $\delta(\varepsilon) = \min\left(\frac{\varepsilon}{2}, \frac{1}{2}\right)$ работает для любого $\varepsilon > 0$.

**Геометрический смысл:**

При изображении на графике:
- **ε** — расстояние по оси **Y** (вертикаль)
  - Задает окрестность вокруг предела $L$: интервал $(L - \varepsilon, L + \varepsilon)$
  - Горизонтальная полоса на графике
  
- **δ** — расстояние по оси **X** (горизонталь)
  - Задает окрестность вокруг точки $a$: интервал $(a - \delta, a + \delta)$
  - Вертикальная полоса на графике

**Смысл определения:** Если $x$ попадает в δ-окрестность точки $a$ (зеленая вертикальная полоса), то $f(x)$ гарантированно попадет в ε-окрестность предела $L$ (синяя горизонтальная полоса).

### Формальное определение

Число $L$ называется **пределом функции** $f(x)$ в точке $a$, если для любого $\varepsilon > 0$ существует такое $\delta > 0$, что для всех $x$, удовлетворяющих условию $0 < |x - a| < \delta$, выполняется неравенство $|f(x) - L| < \varepsilon$.

**Запись:**

$$\lim_{x \to a} f(x) = L$$

**Определение в кванторах:**

$$\forall \varepsilon > 0 \quad \exists \delta > 0: \quad \forall x \in \mathbb{R} \, (0 < |x - a| < \delta \Longrightarrow |f(x) - L| < \varepsilon)$$

**Пояснение:**
- $0 < |x - a|$ означает, что $x \neq a$ (сама точка $a$ не рассматривается)
- $|x - a| < \delta$ означает, что $x$ находится в $\delta$-окрестности точки $a$
- $|f(x) - L| < \varepsilon$ означает, что значение функции отличается от предела меньше чем на $\varepsilon$

### Сравнение ε-N и ε-δ определений

| Характеристика | ε-N (для бесконечности) | ε-δ (для точки) |
|----------------|-------------------------|-----------------|
| **Когда используется** | Предел при $n \to \infty$ или $x \to \infty$ | Предел при $x \to a$ (конкретная точка) |
| **Примеры** | $\lim_{n \to \infty} \frac{2n+1}{n} = 2$ <br> $\lim_{x \to \infty} \frac{1}{x} = 0$ | $\lim_{x \to 1} \frac{2x+1}{x} = 3$ |
| **Переменная** | Дискретная ($n \in \mathbb{N}$) или непрерывная ($x \in \mathbb{R}$) | Непрерывная: $x \in \mathbb{R}$ |
| **Параметр** | $N$ — "начиная откуда" | $\delta$ — "насколько близко к точке" |
| **Условие** | $n > N$ или $x > N$ | $0 < \|x - a\| < \delta$ |
| **Смысл N/δ** | Удаленность (как далеко уйти) | Близость (как близко к точке) |
| **Формула связи** | $N(\varepsilon) = \lceil 1/\varepsilon \rceil$ | $\delta(\varepsilon) = \min(\varepsilon/2, 1/2)$ |

**См. также:** [Теорема Гейне](./proofs/heine.md) — связь между пределами функций (ε-δ) и последовательностей (ε-N)

## Алгебра последовательностей и пределов

### Определение операций над последовательностями

Для последовательностей $A = (A_1, A_2, A_3, \ldots)$ и $B = (B_1, B_2, B_3, \ldots)$ операции определяются **поэлементно**:

$$
\begin{aligned}
&(A + B)_n = A_n + B_n \quad \text{(сумма)} \\
&(A - B)_n = A_n - B_n \quad \text{(разность)} \\
&(A \cdot B)_n = A_n \cdot B_n \quad \text{(произведение)} \\
&\left(\frac{A}{B}\right)_n = \frac{A_n}{B_n} \quad \text{(частное, если } B_n \neq 0\text{)}
\end{aligned}
$$

**Важно:** Это **определения**, а не теоремы. Мы просто договариваемся складывать, вычитать, умножать и делить последовательности поэлементно.

### Пример

Даны последовательности:
- $A_n = n$ (натуральные числа: $1, 2, 3, 4, \ldots$)
- $B_n = n^2$ (квадраты: $1, 4, 9, 16, \ldots$)

Тогда:
- $(A + B)_n = n + n^2$ дает последовательность $(2, 6, 12, 20, \ldots)$
- $(A \cdot B)_n = n \cdot n^2 = n^3$ дает последовательность $(1, 8, 27, 64, \ldots)$

### Теоремы о пределах

Если $\lim_{n \to \infty} A_n = a$ и $\lim_{n \to \infty} B_n = b$, то:

$$
\begin{aligned}
&\lim_{n \to \infty} (A + B)_n = a + b \quad \text{(предел суммы = сумме пределов)}\\
&\lim_{n \to \infty} (A - B)_n = a - b \quad \text{(предел разности = разности пределов)}\\
&\lim_{n \to \infty} (A \cdot B)_n = ab \quad \text{(предел произведения = произведению пределов)}\\
&\lim_{n \to \infty} \left(\frac{A}{B}\right)_n = \frac{a}{b} \quad \text{(предел частного = частному пределов, если } b \neq 0\text{)}
\end{aligned}
$$

**Это уже теоремы**, которые требуют доказательства (см. [доказательства](./proofs/limsum.md)).

## Асимптотическое равенство

Асимптотические последовательности очень похоже ведут себя при большом значении $n$. 

**Определение:** Две последовательности $A$ и $B$ называются **асимптотически равными** (или асимптотически эквивалентными), если:

$$\lim_{n \to \infty} \frac{A_n}{B_n} = 1$$

**Обозначение:**

$$A \sim B$$

### Свойства

Если $A$ и $B$ асимптотически эквивалентны и имеют пределы $a$ и $b$, то эти пределы равны:

$$\lim_{n \to \infty} \frac{A_n}{B_n} = \frac{\lim_{n \to \infty} A_n}{\lim_{n \to \infty} B_n} = \frac{a}{b} = 1$$

Следовательно, $a = b$.

**Важно:** Две последовательности могут быть асимптотически эквивалентны, даже если у них нет пределов.

### Пример

Рассмотрим последовательности:

$$A_n = 2n + n^2, \quad B_n = n^2$$

Найдем предел их отношения:

$$\lim_{n \to \infty} \frac{A_n}{B_n} = \lim_{n \to \infty} \frac{2n + n^2}{n^2} = \lim_{n \to \infty} \left(\frac{2n}{n^2} + \frac{n^2}{n^2}\right) = \lim_{n \to \infty} \left(\frac{2}{n} + 1\right) = 0 + 1 = 1$$

Так как $\frac{1}{n} \to 0$, получаем, что $A_n \sim B_n$ (последовательности асимптотически эквивалентны).

## Пределы отношений

Асимптотическое равенство полезно для вычисления пределов отношений последовательностей.

**Свойство:** Если $A \sim C$ и $B \sim D$, то:

$$\lim_{n \to \infty} \frac{A_n}{B_n} = \lim_{n \to \infty} \frac{C_n}{D_n}$$

Это полезно, потому что $C$ и $D$ могут быть проще, чем $A$ и $B$.

### Пример

Найти предел:

$$\lim_{n \to \infty} \frac{A_n}{B_n}$$

где:

$$A_n = 3 + n + 4n^2, \quad B_n = 1 + n^2$$

**Решение:**

При больших $n$ старшие члены доминируют, поэтому:

$$A_n \sim C_n = 4n^2, \quad B_n \sim D_n = n^2$$

Следовательно:

$$\lim_{n \to \infty} \frac{A_n}{B_n} = \lim_{n \to \infty} \frac{3 + n + 4n^2}{1 + n^2} = \lim_{n \to \infty} \frac{C_n}{D_n} = \lim_{n \to \infty} \frac{4n^2}{n^2} = 4$$

