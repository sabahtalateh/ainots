# Упрощение рациональной дроби

## Задача

Упростить выражение:

$$\frac{x^3 + x^2 - x - 1}{x^2 + 2x + 1}$$

## Решение

### Шаг 1: Факторизуем знаменатель

$$x^2 + 2x + 1 = (x+1)^2$$

Это полный квадрат.

### Шаг 2: Факторизуем числитель

$$x^3 + x^2 - x - 1$$

Сгруппируем члены:

$$= x^2(x+1) - 1(x+1)$$

Вынесем общий множитель $(x+1)$:

$$= (x+1)(x^2-1)$$

Разложим разность квадратов $x^2 - 1$:

$$= (x+1)(x-1)(x+1)$$

$$= (x-1)(x+1)^2$$

### Шаг 3: Сокращаем дробь

$$\frac{x^3 + x^2 - x - 1}{x^2 + 2x + 1} = \frac{(x-1)(x+1)^2}{(x+1)^2} = x-1$$

## Ответ

$$x - 1, \quad x \neq -1$$

**Важно:** При $x = -1$ исходное выражение не определено (деление на ноль).

---

## Проверка в SymPy

```python
from sympy import symbols, simplify, factor, cancel

x = symbols('x')
expr = (x**3 + x**2 - x - 1) / (x**2 + 2*x + 1)

# Способ 1: Упрощение
print(simplify(expr))  # x - 1

# Способ 2: Сокращение дроби
print(cancel(expr))    # x - 1

# Факторизация числителя
print(factor(x**3 + x**2 - x - 1))  # (x - 1)*(x + 1)**2

# Факторизация знаменателя
print(factor(x**2 + 2*x + 1))       # (x + 1)**2
```

